apiVersion: aws.terraform.alexandre.mahdhaoui.com/v0.1.0
kind: TerraformResource
metadata:
    name: aws_transfer_server
spec:
    args:
        AS2:
            description: ': File transfer over Applicability Statement 2'
            type: string
        FTP:
            description: ': Unencrypted file transfer'
            type: string
        FTPS:
            description: ': File transfer with TLS encryption'
            type: string
        SFTP:
            description: ': File transfer over SSH'
            type: string
        address_allocation_ids:
            description: (Optional) A list of address allocation IDs that are required to attach an Elastic IP address to your SFTP server's endpoint. This property can only be used when endpoint_type is set to VPC.
            optional: true
            type: string
        arn:
            description: Amazon Resource Name (ARN) of Transfer Server
            type: string
        certificate:
            description: (Optional) The Amazon Resource Name (ARN) of the AWS Certificate Manager (ACM) certificate. This is required when protocols is set to FTPS
            optional: true
            type: string
        directory_id:
            description: (Optional) The directory service ID of the directory service you want to connect to with an identity_provider_type of AWS_DIRECTORY_SERVICE.
            optional: true
            type: string
        domain:
            description: '(Optional) The domain of the storage system that is used for file transfers. Valid values are: S3 and EFS. The default value is S3.'
            optional: true
            type: string
        endpoint:
            description: The endpoint of the Transfer Server (e.g., s-12345678.server.transfer.REGION.amazonaws.com)
            type: string
        endpoint_details:
            description: (Optional) The virtual private cloud (VPC) endpoint settings that you want to configure for your SFTP server. Fields documented below.
            optional: true
            type: string
        endpoint_type:
            description: (Optional) The type of endpoint that you want your SFTP server connect to. If you connect to a VPC (or VPC_ENDPOINT), your SFTP server isn't accessible over the public internet. If you want to connect your SFTP server via public internet, set PUBLIC.  Defaults to PUBLIC.
            optional: true
            type: string
        execution_role:
            description: (Required) Includes the necessary permissions for S3, EFS, and Lambda operations that Transfer can assume, so that all workflow steps can operate on the required resources.
            type: string
        force_destroy:
            description: (Optional) A boolean that indicates all users associated with the server should be deleted so that the Server can be destroyed without error. The default value is false. This option only applies to servers configured with a SERVICE_MANAGED identity_provider_type.
            optional: true
            type: string
        function:
            description: (Optional) The ARN for a lambda function to use for the Identity provider.
            optional: true
            type: string
        host_key:
            description: (Optional) RSA private key (e.g., as generated by the ssh-keygen -N "" -m PEM -f my-new-server-key command).
            optional: true
            type: string
        host_key_fingerprint:
            description: This value contains the message-digest algorithm (MD5) hash of the server's host key. This value is equivalent to the output of the ssh-keygen -l -E md5 -f my-new-server-key command.
            type: string
        id:
            description: '  - The Server ID of the Transfer Server (e.g., s-12345678)'
            type: string
        identity_provider_type:
            description: (Optional) The mode of authentication enabled for this service. The default value is SERVICE_MANAGED, which allows you to store and access SFTP user credentials within the service. API_GATEWAY indicates that user authentication requires a call to an API Gateway endpoint URL provided by you to integrate an identity provider of your choice. Using AWS_DIRECTORY_SERVICE will allow for authentication against AWS Managed Active Directory or Microsoft Active Directory in your on-premises environment, or in AWS using AD Connectors. Use the AWS_LAMBDA value to directly use a Lambda function as your identity provider. If you choose this value, you must specify the ARN for the lambda function in the function argument.
            optional: true
            type: string
        invocation_role:
            description: (Optional) Amazon Resource Name (ARN) of the IAM role used to authenticate the user account with an identity_provider_type of API_GATEWAY.
            optional: true
            type: string
        logging_role:
            description: (Optional) Amazon Resource Name (ARN) of an IAM role that allows the service to write your SFTP usersâ€™ activity to your Amazon CloudWatch logs for monitoring and auditing purposes.
            optional: true
            type: string
        on_upload:
            description: '(Optional) A trigger that starts a workflow: the workflow begins to execute after a file is uploaded. See Workflow Detail below.Workflow Detail'
            optional: true
            type: string
        post_authentication_login_banner:
            description: '- (Optional) Specify a string to display when users connect to a server. This string is displayed after the user authenticates. The SFTP protocol does not support post-authentication display banners.'
            optional: true
            type: string
        pre_authentication_login_banner:
            description: '- (Optional) Specify a string to display when users connect to a server. This string is displayed before the user authenticates.'
            optional: true
            type: string
        protocols:
            description: (Optional) Specifies the file transfer protocol or protocols over which your file transfer protocol client can connect to your server's endpoint. This defaults to SFTP
            optional: true
            type: string
        security_group_ids:
            description: (Optional) A list of security groups IDs that are available to attach to your server's endpoint. If no security groups are specified, the VPC's default security groups are automatically assigned to your endpoint. This property can only be used when endpoint_type is set to VPC.
            optional: true
            type: string
        security_policy_name:
            description: '(Optional) Specifies the name of the security policy that is attached to the server. Possible values are TransferSecurityPolicy-2018-11, TransferSecurityPolicy-2020-06, TransferSecurityPolicy-FIPS-2020-06 and TransferSecurityPolicy-2022-03. Default value is: TransferSecurityPolicy-2018-11.'
            optional: true
            type: string
        subnet_ids:
            description: (Optional) A list of subnet IDs that are required to host your SFTP server endpoint in your VPC. This property can only be used when endpoint_type is set to VPC.
            optional: true
            type: string
        tags:
            description: (Optional) A map of tags to assign to the resource. If configured with a provider default_tags configuration block present, tags with matching keys will overwrite those defined at the provider-level.
            optional: true
            type: string
        url:
            description: (Optional) - URL of the service endpoint used to authenticate users with an identity_provider_type of API_GATEWAY.
            optional: true
            type: string
        vpc_endpoint_id:
            description: (Optional) The ID of the VPC endpoint. This property can only be used when endpoint_type is set to VPC_ENDPOINT
            optional: true
            type: string
        vpc_id:
            description: (Optional) The VPC ID of the virtual private cloud in which the SFTP server's endpoint will be hosted. This property can only be used when endpoint_type is set to VPC.Workflow Details
            optional: true
            type: string
        workflow_details:
            description: (Optional) Specifies the workflow details. See Workflow Details below.Endpoint Details
            optional: true
            type: string
        workflow_id:
            description: '(Required)  A unique identifier for the workflow.In addition to all arguments above, the following attributes are exported:'
            type: string
    attrs:
        arn:
            description: Amazon Resource Name (ARN) of Transfer Server
            type: string
        endpoint:
            description: The endpoint of the Transfer Server (e.g., s-12345678.server.transfer.REGION.amazonaws.com)
            type: string
        host_key_fingerprint:
            description: This value contains the message-digest algorithm (MD5) hash of the server's host key. This value is equivalent to the output of the ssh-keygen -l -E md5 -f my-new-server-key command.
            type: string
        id:
            description: '  - The Server ID of the Transfer Server (e.g., s-12345678)'
            type: string
        tags_all:
            description: A map of tags assigned to the resource, including those inherited from the provider default_tags configuration block.
            type: string
    terraform:
        backend: ""
        version: 1.3.4
        provider:
            assume_role: false
            name: aws
            source: hashicorp/aws
            version: 4.38.0
            default_tags:
                enabled: true
